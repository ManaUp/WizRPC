var _0x8249=['login','error','discord-rpc','./config.json','./keymap.js','480677792422428692','/Bin/WizardClient.log','createInterface','createReadStream','./zones.csv','Initializing\x20Game...','line','split','length','keys','indexOf','initial','register','Client','ipc','readline','GameClient::LoadZone()\x20-\x20Finished\x20loading\x20zone','push','substr','replace','log','includes','Updating\x20health\x20globe\x20(new\x20health','WizardClientMod\x20MSG_UpdateHealth','new\x20health:\x20',',\x20new\x20health\x20max:\x20','getImageKeys','setActivity','In\x20','Health:\x20','current','max','largeImageKey','largeImageText','ready','Activity\x20updated'];(function(_0x1b8eaf,_0x5ae9d6){var _0x8354d8=function(_0x22d924){while(--_0x22d924){_0x1b8eaf['push'](_0x1b8eaf['shift']());}};_0x8354d8(++_0x5ae9d6);}(_0x8249,0x121));var _0x139e=function(_0x5c1e20,_0x3b7168){_0x5c1e20=_0x5c1e20-0x0;var _0x3927d0=_0x8249[_0x5c1e20];return _0x3927d0;};const DiscordRPC=require(_0x139e('0x0'));const config=require(_0x139e('0x1'));const keymap=require(_0x139e('0x2'));const clientId=_0x139e('0x3');const logPath=config['gamePath']+_0x139e('0x4');let lr=require('readline')[_0x139e('0x5')]({'input':require('fs')[_0x139e('0x6')](_0x139e('0x7'))});let locations={'initial':_0x139e('0x8')};lr['on'](_0x139e('0x9'),function(_0x245e25){let _0x125196=_0x245e25[_0x139e('0xa')](',');if(_0x125196[0x1][_0x139e('0xb')]>0x0&&Object[_0x139e('0xc')](locations)[_0x139e('0xd')](_0x125196[0x0])<0x0){let _0x5addea=_0x125196[0x0];locations[_0x5addea]=_0x125196[0x1];}});let getWorld=_0x4c3f17=>{return _0x4c3f17['split']('/')[0x0];};let convertZone=_0x196f74=>{if(Object[_0x139e('0xc')](locations)['indexOf'](_0x196f74)>-0x1){return locations[_0x196f74];}else{return getImageKeys(getWorld(_0x196f74))['largeImageText'];}};let storage=[];let longStorage=[_0x139e('0xe')];let healthStorage=[];let specificHealthStorage=[{'current':'0','max':'0'}];DiscordRPC[_0x139e('0xf')](clientId);const rpc=new DiscordRPC[(_0x139e('0x10'))]({'transport':_0x139e('0x11')});const startTimestamp=new Date();async function setActivity(){if(!rpc){return;}let _0x536c53=require(_0x139e('0x12'))[_0x139e('0x5')]({'input':require('fs')['createReadStream'](logPath)});_0x536c53['on'](_0x139e('0x9'),function(_0x417cbd){if(_0x417cbd['includes'](_0x139e('0x13'))&&storage[_0x139e('0xd')](_0x417cbd)<0x0){storage[_0x139e('0x14')](_0x417cbd);let _0x152cfd=_0x417cbd[_0x139e('0x15')](_0x417cbd[_0x139e('0xd')]('\x27')+0x1)[_0x139e('0x16')]('\x27.','');longStorage[_0x139e('0x14')](_0x152cfd);console[_0x139e('0x17')]('NEW\x20ZONE\x20ENTERED:\x20',convertZone(_0x152cfd));}else if(_0x417cbd[_0x139e('0x18')](_0x139e('0x19'))&&!_0x417cbd['includes'](_0x139e('0x1a'))&&healthStorage['indexOf'](_0x417cbd)<0x0){healthStorage[_0x139e('0x14')](_0x417cbd);let _0x176d67=_0x417cbd[_0x139e('0xa')](_0x139e('0x1b'))[0x1];let _0x9ad4dc=_0x176d67[_0x139e('0xa')](_0x139e('0x1c'));let _0x4f7fbc=_0x9ad4dc[0x0];let _0x17f201=_0x9ad4dc[0x1][_0x139e('0x16')](')','');maxHealth2=_0x17f201[_0x139e('0xa')]('|');_0x17f201=maxHealth2[0x0];let _0x1dfdf0={'current':_0x4f7fbc,'max':_0x17f201};specificHealthStorage[_0x139e('0x14')](_0x1dfdf0);}});let _0x119a86=longStorage[longStorage[_0x139e('0xb')]-0x1];let _0x5b3014=convertZone(_0x119a86);let _0x1361cc=specificHealthStorage[specificHealthStorage[_0x139e('0xb')]-0x1];let _0x3a5cc5=getWorld(_0x119a86);let _0xb1da72=keymap[_0x139e('0x1d')](_0x3a5cc5);console['log'](_0xb1da72);rpc[_0x139e('0x1e')]({'details':_0x139e('0x1f')+_0x5b3014,'state':_0x139e('0x20')+_0x1361cc[_0x139e('0x21')]+'/'+_0x1361cc[_0x139e('0x22')],'startTimestamp':startTimestamp,'largeImageKey':_0xb1da72[_0x139e('0x23')],'largeImageText':_0xb1da72[_0x139e('0x24')],'smallImageKey':_0xb1da72['smallImageKey'],'smallimageText':'Wizard101','instance':![]});}rpc['on'](_0x139e('0x25'),()=>{setInterval(()=>{setActivity();console[_0x139e('0x17')](_0x139e('0x26'));},0x7d0);});rpc[_0x139e('0x27')]({'clientId':clientId})['catch'](console[_0x139e('0x28')]);